TYPE=TRIGGERS
triggers='CREATE DEFINER=`os_admin`@`127.0.0.1` TRIGGER mysql.block_user_i BEFORE INSERT ON user\nFOR EACH ROW BEGIN \n   IF new.User = "os_admin" THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'CANNOT CREATE os_admin USER\';\n   END IF;\n\n   IF new.super_priv = \'Y\' THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'SUPER PRIVILEGE CANNOT BE GRANTED\';\n   ELSEIF new.shutdown_priv = \'Y\' THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'SHUTDOWN PRIVILEGE CANNOT BE GRANTED. PLEASE USE RDS API\';\n   ELSEIF new.file_priv = \'Y\' THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'FILE PRIVILEGE CANNOT BE GRANTED\';\n   ELSEIF new.create_tablespace_priv = \'Y\' THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'CREATE TABLESPACE PRIVILEGE CANNOT BE GRANTED\';\n   END IF; \n\nEND' 'CREATE DEFINER=`os_admin`@`127.0.0.1` TRIGGER mysql.block_user_u BEFORE UPDATE ON user\nFOR EACH ROW BEGIN \n  DECLARE foo varchar(255);\n  if old.User = "os_admin" then\n    select `ERROR (RDS): CANNOT UPDATE os_admin USER` into foo from mysql.user;\n  end if;\n \n  if old.super_priv <> \'Y\' and new.super_priv = \'Y\' then\n     select `ERROR (RDS): SUPER PRIVILEGE CANNOT BE GRANTED OR MAINTAINED` into foo from mysql.user;\n  elseif old.shutdown_priv <> \'Y\' and new.shutdown_priv = \'Y\' then\n     select `ERROR (RDS): SHUTDOWN PRIVILEGE CANNOT BE GRANTED OR MAINTAINED. PLEASE USE RDS API` into foo from mysql.user;\n  elseif old.file_priv <> \'Y\' and new.file_priv = \'Y\' then\n     select `ERROR (RDS): FILE PRIVILEGE CANNOT BE GRANTED OR MAINTAINED` into foo from mysql.user;\n  elseif old.repl_slave_priv <> \'Y\' and new.repl_slave_priv = \'Y\' then\n     select `ERROR (RDS): REPLICA SLAVE PRIVILEGE CANNOT BE GRANTED OR MAINTAINED` into foo from mysql.user;\n  elseif old.repl_client_priv <> \'Y\' and new.repl_client_priv = \'Y\' then\n       select `ERROR (RDS): REPLICA CLIENT PRIVILEGE CANNOT BE GRANTED OR MAINTAINED` into foo from mysql.user;\n  end if;\nEND' 'CREATE DEFINER=`os_admin`@`127.0.0.1` TRIGGER mysql.block_user_d BEFORE DELETE ON user\nFOR EACH ROW BEGIN \n  IF old.User = \'os_admin\' AND old.Host = \'127.0.0.1\' THEN\n      SIGNAL SQLSTATE \'45000\' SET MESSAGE_TEXT = \'CANNOT DROP os_admin USER\';\n   END IF; \nEND'
sql_modes=1073741824 1073741824 1436549152
definers='os_admin@127.0.0.1' 'os_admin@127.0.0.1' 'os_admin@127.0.0.1'
client_cs_names='latin1' 'latin1' 'utf8'
connection_cl_names='latin1_swedish_ci' 'latin1_swedish_ci' 'utf8_general_ci'
db_cl_names='latin1_swedish_ci' 'latin1_swedish_ci' 'latin1_swedish_ci'
created=156285815022 156285816701 156285832397
